2023-03-15-00:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-00:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-01:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-01:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-02:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-02:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-03:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-03:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-04:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-04:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-05:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-05:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-06:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-06:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-07:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-07:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-07:53[taskScheduler-9] [ERROR] org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1258) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1220) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:191) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at com.metoo.nspm.core.config.socket.NoticeEndpoint.taskSendMessageByUserId(NoticeEndpoint.java:389) ~[classes/:?]
	at com.metoo.nspm.core.config.socket.NoticeEndpoint.topologyDeviceDT(NoticeEndpoint.java:456) ~[classes/:?]
	at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source) ~[?:?]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.4.jar:5.3.4]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.4.jar:5.3.4]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) [spring-context-5.3.4.jar:5.3.4]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_131]
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) [?:1.8.0_131]
	at java.util.concurrent.FutureTask.run(FutureTask.java) [?:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]
2023-03-15-08:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-08:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-08:45[taskScheduler-3] [ERROR] org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_FULL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1258) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textStart(WsRemoteEndpointImplBase.java:1220) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:191) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.43.jar:9.0.43]
	at com.metoo.nspm.core.config.socket.NoticeEndpoint.taskSendMessageByUserId(NoticeEndpoint.java:389) ~[classes/:?]
	at com.metoo.nspm.core.config.socket.NoticeEndpoint.topologyDeviceDT(NoticeEndpoint.java:456) ~[classes/:?]
	at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source) ~[?:?]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_131]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_131]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.3.4.jar:5.3.4]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.3.4.jar:5.3.4]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95) [spring-context-5.3.4.jar:5.3.4]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_131]
	at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266) [?:1.8.0_131]
	at java.util.concurrent.FutureTask.run(FutureTask.java) [?:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_131]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]
2023-03-15-09:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-09:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-10:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-10:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-11:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-11:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-12:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-12:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-13:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-13:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-14:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-14:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-15:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-15:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-15:57[http-nio-8980-exec-3] [INFO ] com.metoo.nspm.core.config.socket.NoticeEndpoint - 934ad3f3-4155-4e3a-9a6a-0e54c3d0e4fa连接断开！
2023-03-15-16:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-16:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-17:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-17:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
2023-03-15-18:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...
2023-03-15-18:25[SessionValidationThread-1] [INFO ] org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  No sessions were stopped.
